!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.sseio=e():t.sseio=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,n,r){void 0===r&&(r=-1);var o=t.call(this,e)||this;return o.reason=n,o.status=r,o}return o(e,t),e}(Error);e.ClientError=s},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(4)),s=n(2);e.ClientError=s.ClientError,e.client=function(t,e,n){return new o.default(t,e,n)}},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(5),a=s(n(6)),u=s(n(10)),l=i(n(13)),f=n(17),p=n(18),h=n(19),d=n(20),v=n(2),y=l.default("sse-io-client");e.EVENTS={MESSAGE:"message",ERROR:"error",CONNECTED:"connected",DISCONNECT:"disconnect"};var m={min:100,max:5e3,jitter:.5},g=function(t){function n(e,n,r){var o=t.call(this)||this;return o.reconnect=!0,o.stopped=!1,o.connected=!1,o.url=e,o.events=n,o.clientId=u.v4().toString(),r&&r.hasOwnProperty("reconnect")&&(o.reconnect=!!r.reconnect),o.backoff=new h(p(m,r&&r.backoffOptions)),o}return o(n,t),n.prototype.getId=function(){return this.clientId},n.prototype.start=function(t){this.stopped=!1,t&&(this.sseOptions=t),this.pull()},n.prototype.stop=function(){this.stopped||(this.eventSource&&this.eventSource.close(),this.stopped=!0,this.emit(e.EVENTS.DISCONNECT))},n.prototype.addEvent=function(t,e){var n=this;this.events.length>0&&!this.events.includes(t)&&this.events.push(t),e&&this.addQueryParams(e),d.debounce((function(){return n.restart}),100)},n.prototype.removeEvent=function(t,e){var n=this;if(this.events.length>0){var r=this.events.indexOf(t);r>-1&&this.events.splice(r,1)}e&&this.addQueryParams(e),d.debounce((function(){return n.restart}),100)},n.prototype.addQueryParams=function(t){if(!d.isObject(t))throw new Error("params should be an object!");return this.sseOptions?this.sseOptions.queryParams=p(this.sseOptions.queryParams,t):this.sseOptions={queryParams:t},this.sseOptions.queryParams},n.prototype.restart=function(){this.stop(),this.start()},n.prototype.isConnected=function(){return this.connected},n.prototype.pull=function(){var t=this;if(!this.stopped){for(var n=this.genEventSourceUrl(),r=this.eventSource=new f(n,this.sseOptions),o=function(n){r.addEventListener(n,(function(r){t.emit(e.EVENTS.MESSAGE,{event:n,message:r.data})}))},s=0,i=this.events;s<i.length;s++){o(i[s])}r.onerror=function(e){t.onEventSourceErrorOrClose(e)},r.addEventListener("close",(function(e){t.onEventSourceErrorOrClose(e)})),this.connected=!0,this.emit(e.EVENTS.CONNECTED)}},n.prototype.genEventSourceUrl=function(){var t=this.url.split("?"),e=t[0],n=t[1],r=a.parse(n);return p(r,{clientId:this.clientId,events:this.events},this.sseOptions&&this.sseOptions.queryParams),e+"?"+a.stringify(r)},n.prototype.onEventSourceErrorOrClose=function(t){if(this.connected=!1,this.emit(e.EVENTS.DISCONNECT),this.eventSource)try{this.eventSource.close(),this.eventSource.removeEventListener("close");for(var n=0,r=this.events;n<r.length;n++){var o=r[n];this.eventSource.removeEventListener(o)}}catch(t){y("event source closed error",t)}var s=String(t.status);return""===s||"0"===s?(this.emit(e.EVENTS.ERROR,new v.ClientError(t.message,"can't connect to server")),void this.delayPull(s)):"2"===s[0]?(this.backoff.reset(),void(this.reconnect&&this.pull())):(this.emit(e.EVENTS.ERROR,new v.ClientError(t.message,"http error",t.status)),void("4"===s[0]&&429!==t.status||this.reconnect&&this.delayPull(s)))},n.prototype.delayPull=function(t){var e=this,n=this.backoff.duration();y("pull with status "+t+", delay "+n+"ms to reconnect"),this.backoffRunTimer&&clearTimeout(this.backoffRunTimer),this.backoffRunTimer=setTimeout((function(){return e.pull()}),n)},n}(c.EventEmitter);e.default=g},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function s(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function c(t,e,n,r,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var c=new i(n,r||t,s),a=o?o+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],c]:t._events[a].push(c):(t._events[a]=c,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(o=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,s=n.length,i=new Array(s);r<s;r++)i[r]=n[r].fn;return i},u.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,s,i){var c=o?o+t:t;if(!this._events[c])return!1;var a,u,l=this._events[c],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,s),!0;case 6:return l.fn.call(l.context,e,n,r,s,i),!0}for(u=1,a=new Array(f-1);u<f;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var p,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!a)for(p=1,a=new Array(f-1);p<f;p++)a[p-1]=arguments[p];l[u].fn.apply(l[u].context,a)}}return!0},u.prototype.on=function(t,e,n){return c(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return c(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var s=o?o+t:t;if(!this._events[s])return this;if(!e)return a(this,s),this;var i=this._events[s];if(i.fn)i.fn!==e||r&&!i.once||n&&i.context!==n||a(this,s);else{for(var c=0,u=[],l=i.length;c<l;c++)(i[c].fn!==e||r&&!i[c].once||n&&i[c].context!==n)&&u.push(i[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&a(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,t.exports=u},function(t,e,n){"use strict";const r=n(7),o=n(8),s=n(9);function i(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function c(t,e){return e.decode?o(t):t}function a(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function u(t){const e=(t=a(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function l(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function f(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":return(t,e,n)=>{const r="string"==typeof e&&e.split("").indexOf(",")>-1?e.split(","):e;n[t]=r};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){let[t,i]=s(o.replace(/\+/g," "),"=");i=void 0===i?null:c(i,e),n(c(t,e),i,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=l(n[t],e);else r[t]=l(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=u,e.parse=f,e.stringify=(t,e)=>{if(!t)return"";const n=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const o=n.length;return void 0===r?n:null===r?[...n,[i(e,t),"[",o,"]"].join("")]:[...n,[i(e,t),"[",i(o,t),"]=",i(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r?n:null===r?[...n,[i(e,t),"[]"].join("")]:[...n,[i(e,t),"[]=",i(r,t)].join("")];case"comma":return e=>(n,r,o)=>null==r||0===r.length?n:0===o?[[i(e,t),"=",i(r,t)].join("")]:[[n,i(r,t)].join(",")];default:return e=>(n,r)=>void 0===r?n:null===r?[...n,i(e,t)]:[...n,[i(e,t),"=",i(r,t)].join("")]}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),r=Object.keys(t);return!1!==e.sort&&r.sort(e.sort),r.map(r=>{const o=t[r];return void 0===o?"":null===o?i(r,e):Array.isArray(o)?o.reduce(n(r),[]).join("&"):i(r,e)+"="+i(o,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:a(t).split("?")[0]||"",query:f(u(t),e)})},function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function s(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],s(n),s(r))}function i(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=s(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=i(n[0]);r!==n[0]&&(e[n[0]]=r)}n=o.exec(t)}e["%C2"]="�";for(var s=Object.keys(e),c=0;c<s.length;c++){var a=s[c];t=t.replace(new RegExp(a,"g"),e[a])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){var r=n(11),o=n(12),s=o;s.v1=r,s.v4=o,t.exports=s},function(t,e,n){var r,o,s=n(0),i=n(1),c=0,a=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],f=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==p){var h=s();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:a+1,y=d-c+(v-a)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,a=v,o=p;var m=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;l[u++]=m>>>24&255,l[u++]=m>>>16&255,l[u++]=m>>>8&255,l[u++]=255&m;var g=d/4294967296*1e4&268435455;l[u++]=g>>>8&255,l[u++]=255&g,l[u++]=g>>>24&15|16,l[u++]=g>>>16&255,l[u++]=p>>>8|128,l[u++]=255&p;for(var C=0;C<6;++C)l[u+C]=f[C];return e||i(l)}},function(t,e,n){var r=n(0),o=n(1);t.exports=function(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var c=0;c<16;++c)e[s+c]=i[c];return e||o(i)}},function(t,e,n){(function(r){e.log=function(...t){return"object"==typeof console&&console.log&&console.log(...t)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(o=r))}),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(15)(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(14))},function(t,e){var n,r,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var a,u=[],l=!1,f=-1;function p(){l&&a&&(l=!1,a.length?u=a.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=c(p);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||c(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){t.exports=function(t){function e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){let n;function i(...t){if(!i.enabled)return;const e=i,o=Number(new Date),s=o-(n||o);e.diff=s,e.prev=n,e.curr=o,n=o,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;c++;const s=r.formatters[o];if("function"==typeof s){const r=t[c];n=s.call(e,r),t.splice(c,1),c--}return n}),r.formatArgs.call(e,t),(e.log||r.log).apply(e,t)}return i.namespace=t,i.enabled=r.enabled(t),i.useColors=r.useColors(),i.color=e(t),i.destroy=o,i.extend=s,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function o(){const t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function s(t,e){const n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){const t=[...r.names.map(i),...r.skips.map(i).map(t=>"-"+t)].join(",");return r.enable(""),t},r.enable=function(t){let e;r.save(t),r.names=[],r.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){const t=r.instances[e];t.enabled=r.enabled(t.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;let e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(16),Object.keys(t).forEach(e=>{r[e]=t[e]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e){var n=1e3,r=60*n,o=60*r,s=24*o,i=7*s,c=365.25*s;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*c;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===u&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=s)return a(t,e,s,"day");if(e>=o)return a(t,e,o,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=s)return Math.round(t/s)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){
/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
var n=window.setTimeout.bind(window),r=window.clearTimeout.bind(window),o=window.XMLHttpRequest,s=window.XDomainRequest,i=window.document,c=window.Promise,a=window.fetch.bind(window),u=window.Response,l=window.TextDecoder,f=window.TextEncoder,p=window.AbortController,h=5e3;if(null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),null!=c&&null==c.prototype.finally&&(c.prototype.finally=function(t){return this.then((function(e){return c.resolve(t()).then((function(){return e}))}),(function(e){return c.resolve(t()).then((function(){throw e}))}))}),null!=a){var d=a;a=function(t,e){return c.resolve(d(t,e))}}function v(){this.bitsNeeded=0,this.codePoint=0}null==p&&(p=function(){this.signal=null,this.abort=function(){}}),v.prototype.decode=function(t){function e(t,e,n){if(1===n)return t>=128>>e&&t<<e<=2047;if(2===n)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===n)return t>=65536>>e&&t<<e<=1114111;throw new Error}function n(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var r="",o=this.bitsNeeded,s=this.codePoint,i=0;i<t.length;i+=1){var c=t[i];0!==o&&(c<128||c>191||!e(s<<6|63&c,o-6,n(o,s)))&&(o=0,s=65533,r+=String.fromCharCode(s)),0===o?(c>=0&&c<=127?(o=0,s=c):c>=192&&c<=223?(o=6,s=31&c):c>=224&&c<=239?(o=12,s=15&c):c>=240&&c<=247?(o=18,s=7&c):(o=0,s=65533),0===o||e(s,o,n(o,s))||(o=0,s=65533)):(o-=6,s=s<<6|63&c),0===o&&(s<=65535?r+=String.fromCharCode(s):(r+=String.fromCharCode(55296+(s-65535-1>>10)),r+=String.fromCharCode(56320+(s-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=s,r};null!=l&&null!=f&&function(){try{return"test"===(new l).decode((new f).encode("test"),{stream:!0})}catch(t){console.log(t)}return!1}()||(l=v);var y=function(){};function m(t){this.withCredentials=!1,this.responseType="",this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onreadystatechange=y,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=y}function g(t){return t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+32)}))}function C(t){for(var e=Object.create(null),n=t.split("\r\n"),r=0;r<n.length;r+=1){var o=n[r].split(": "),s=o.shift(),i=o.join(": ");e[g(s)]=i}this._map=e}function w(){}function b(t){this._headers=t}function E(){}function O(){this._listeners=Object.create(null)}function x(t){n((function(){throw t}),0)}function _(t,e){for(var n in this.type=t,this.target=void 0,e)this.hasOwnProperty(n)||(this[n]=e[n])}function T(t,e){_.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function j(t,e){_.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}m.prototype.open=function(t,e){this._abort(!0);var s=this,i=this._xhr,c=1,a=0;this._abort=function(t){0!==s._sendTimeout&&(r(s._sendTimeout),s._sendTimeout=0),1!==c&&2!==c&&3!==c||(c=4,i.onload=y,i.onerror=y,i.onabort=y,i.onprogress=y,i.onreadystatechange=y,i.abort(),0!==a&&(r(a),a=0),t||(s.readyState=4,s.onreadystatechange())),c=0};var u=function(){if(1===c){var t=0,e="",n=void 0;if("contentType"in i)t=200,e="OK",n=i.contentType;else try{t=i.status,e=i.statusText,n=i.getResponseHeader("Content-Type")}catch(r){t=0,e="",n=void 0}0!==t&&(c=2,s.readyState=2,s.status=t,s.statusText=e,s._contentType=n,s.onreadystatechange())}},l=function(){if(u(),2===c||3===c){c=3;var t="";try{t=i.responseText}catch(t){}s.readyState=3,s.responseText=t,s.onprogress()}},f=function(){l(),1!==c&&2!==c&&3!==c||(c=4,0!==a&&(r(a),a=0),s.readyState=4,s.onreadystatechange())},p=function(){a=n((function(){p()}),500),3===i.readyState&&l()};i.onload=f,i.onerror=f,i.onabort=f,"sendAsBinary"in o.prototype||"mozAnon"in o.prototype||(i.onprogress=l),i.onreadystatechange=function(){null!=i&&(4===i.readyState?f():3===i.readyState?l():2===i.readyState&&u())},"contentType"in i&&(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),i.open(t,e,!0),"readyState"in i&&(a=n((function(){p()}),0))},m.prototype.abort=function(){this._abort(!1)},m.prototype.getResponseHeader=function(t){return this._contentType},m.prototype.setRequestHeader=function(t,e){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(t,e)},m.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders?this._xhr.getAllResponseHeaders():""},m.prototype.send=function(){if("ontimeout"in o.prototype||null==i||null==i.readyState||"complete"===i.readyState){var t=this._xhr;t.withCredentials=this.withCredentials,t.responseType=this.responseType;try{t.send(void 0)}catch(t){throw t}}else{var e=this;e._sendTimeout=n((function(){e._sendTimeout=0,e.send()}),4)}},C.prototype.get=function(t){return this._map[g(t)]},w.prototype.open=function(t,e,o,s,i,c,a){t.open("GET",i);var u,l=0;function f(){u=n((function(){t.abort()}),h)}for(var p in f(),t.onprogress=function(){var e=t.responseText.slice(l);l+=e.length,e.length>0&&(r(u),f()),o(e)},t.onreadystatechange=function(){if(2===t.readyState){var n=t.status,r=t.statusText,o=t.getResponseHeader("Content-Type"),i=t.getAllResponseHeaders();e(n,r,o,new C(i),(function(){t.abort()}))}else 4===t.readyState&&s()},t.withCredentials=c,t.responseType="text",a)Object.prototype.hasOwnProperty.call(a,p)&&t.setRequestHeader(p,a[p]);t.send()},b.prototype.get=function(t){return this._headers.get(t)},E.prototype.open=function(t,e,o,s,i,u,f){var d=new p,v=d.signal,y=new l;a(i,{headers:f,credentials:u?"include":"same-origin",signal:v,cache:"no-store"}).then((function(t){var s=t.body.getReader();return e(t.status,t.statusText,t.headers.get("Content-Type"),new b(t.headers),(function(){d.abort(),s.cancel().catch((function(){}))})),new c((function(t,e){var i=function(){new c((function(t,e){var o=n((function(){e(new Error("Reader read timeout")),o=null}),h);s.read().then((function(e){o&&(r(o),t(e))}),e)})).then((function(e){if(e.done)t(void 0);else{var n=y.decode(e.value,{stream:!0});o(n),i()}})).catch((function(t){e(t)}))};i()}))})).catch((function(){})).finally((function(){s()}))},O.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(null!=e)for(var n=e.length,r=0;r<n;r+=1){var o=e[r];try{"function"==typeof o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(t){x(t)}}},O.prototype.addEventListener=function(t,e){t=String(t);var n=this._listeners,r=n[t];null==r&&(r=[],n[t]=r);for(var o=!1,s=0;s<r.length;s+=1)r[s]===e&&(o=!0);o||r.push(e)},O.prototype.removeEventListener=function(t,e){t=String(t);var n=this._listeners,r=n[t];if(null!=r){for(var o=[],s=0;s<r.length;s+=1)r[s]!==e&&o.push(r[s]);0===o.length?delete n[t]:n[t]=o}},T.prototype=Object.create(_.prototype),j.prototype=Object.create(_.prototype);var F=-1,S=0,A=1,R=2,N=-1,P=0,k=1,M=2,I=3,L=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,q=function(t,e){var n=parseInt(t,10);return n!=n&&(n=e),U(n)},U=function(t){return Math.min(Math.max(t,1e3),18e6)},D=function(t,e,n){try{"function"==typeof e&&e.call(t,n)}catch(t){x(t)}};function H(t,e){O.call(this),this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this._close=void 0,this.status=0,function(t,e,i){e=String(e);var c=null!=i&&Boolean(i.withCredentials),a=U(1e3),u=null!=i&&null!=i.heartbeatTimeout?q(i.heartbeatTimeout,45e3):U(45e3),l="",f=a,p=!1,h=null!=i&&null!=i.headers?JSON.parse(JSON.stringify(i.headers)):void 0,d=null!=i&&null!=i.Transport?i.Transport:null!=o&&"withCredentials"in o.prototype||null==s?o:s,v=$&&(null==i||null==i.Transport&&!i.forceXhr)?void 0:new m(new d),y=null==v?new E:new w,g=void 0,C=0,b=F,O="",H="",V="",G="",B=P,J=0,z=0,Q=function(e,n,r,o,s){if(t.status=e,b===S)if(g=s,200===e&&null!=r&&L.test(r)){b=A,p=!0,f=a,t.readyState=A;var i=new j("open",{status:e,statusText:n,headers:o});t.dispatchEvent(i),D(t,t.onopen,i)}else{var c="";200!==e?(n&&(n=n.replace(/\s+/g," ")),c="EventSource's response has a status "+e+" "+n+" that is not 200. Aborting the connection."):c="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",x(new Error(c)),K();i=new j("error",{status:e,statusText:n,headers:o});t.dispatchEvent(i),D(t,t.onerror,i)}},X=function(e){if(b===A){for(var o=-1,s=0;s<e.length;s+=1){(h=e.charCodeAt(s))!=="\n".charCodeAt(0)&&h!=="\r".charCodeAt(0)||(o=s)}var i=(-1!==o?G:"")+e.slice(0,o+1);G=(-1===o?G:"")+e.slice(o+1),""!==i&&(p=!0);for(var c=0;c<i.length;c+=1){var h=i.charCodeAt(c);if(B===N&&h==="\n".charCodeAt(0))B=P;else if(B===N&&(B=P),h==="\r".charCodeAt(0)||h==="\n".charCodeAt(0)){if(B!==P){B===k&&(z=c+1);var d=i.slice(J,z-1),v=i.slice(z+(z<c&&i.charCodeAt(z)===" ".charCodeAt(0)?1:0),c);"data"===d?(O+="\n",O+=v):"id"===d?H=v:"event"===d?V=v:"retry"===d?(a=q(v,a),f=a):"heartbeatTimeout"===d&&(u=q(v,u),0!==C&&(r(C),C=n((function(){W()}),u)))}if(B===P){if(""!==O){l=H,""===V&&(V="message");var y=new T(V,{data:O.slice(1),lastEventId:H});if(t.dispatchEvent(y),"message"===V&&D(t,t.onmessage,y),b===R)return}O="",V=""}B=h==="\r".charCodeAt(0)?N:P}else B===P&&(J=c,B=k),B===k?h===":".charCodeAt(0)&&(z=c+1,B=M):B===M&&(B=I)}}},Z=function(){if(b===A||b===S){b=F,0!==C&&(r(C),C=0),C=n((function(){W()}),f),f=U(Math.min(16*a,2*f)),t.readyState=S;var e=new _("error",{status:t.status});t.dispatchEvent(e),D(t,t.onerror,e)}},K=function(){b=R,null!=g&&(g(),g=void 0),0!==C&&(r(C),C=0),t.readyState=R},W=function(){if(C=0,b===F){p=!1,C=n((function(){W()}),u),b=S,O="",V="",H=l,G="",J=0,z=0,B=P;var t=e;"data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==l&&(t+=(-1===e.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(l));var r={Accept:"text/event-stream"};if(null!=h)for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&(r[o]=h[o]);try{y.open(v,Q,X,Z,t,c,r)}catch(t){throw K(),t}}else p||null==g?(p=!1,C=n((function(){W()}),u)):(x(new Error("No activity within "+u+" milliseconds. Reconnecting.")),g(),g=void 0)};t.url=e,t.readyState=S,t.withCredentials=c,t._close=K,W()}(this,t,e)}var $=null!=a&&null!=u&&"body"in u.prototype;H.prototype=Object.create(O.prototype),H.prototype.CONNECTING=S,H.prototype.OPEN=A,H.prototype.CLOSED=R,H.prototype.close=function(){this._close()},H.CONNECTING=S,H.OPEN=A,H.CLOSED=R,H.prototype.withCredentials=void 0,t.exports=H},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",s="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;function c(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var a,u,l=Object.prototype,f=l.hasOwnProperty,p=l.toString,h=l.propertyIsEnumerable,d=(a=Object.keys,u=Object,function(t){return a(u(t))}),v=Math.max,y=!h.call({valueOf:1},"valueOf");function m(t,e){var n=E(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&O(t)}(t)&&f.call(t,"callee")&&(!h.call(t,"callee")||p.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,s=!!o;for(var i in t)!e&&!f.call(t,i)||s&&("length"==i||C(i,o))||n.push(i);return n}function g(t,e,n){var r=t[e];f.call(t,e)&&b(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function C(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}function w(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||l)}function b(t,e){return t===e||t!=t&&e!=e}var E=Array.isArray;function O(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=x(t)?p.call(t):"";return e==o||e==s}(t)}function x(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var _,T=(_=function(t,e){if(y||w(e)||O(e))!function(t,e,n,r){n||(n={});for(var o=-1,s=e.length;++o<s;){var i=e[o],c=r?r(n[i],t[i],i,n,t):void 0;g(n,i,void 0===c?t[i]:c)}}(e,function(t){return O(t)?m(t):function(t){if(!w(t))return d(t);var e=[];for(var n in Object(t))f.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}(e),t);else for(var n in e)f.call(e,n)&&g(t,n,e[n])},function(t,e){return e=v(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,o=v(n.length-e,0),s=Array(o);++r<o;)s[r]=n[e+r];r=-1;for(var i=Array(e+1);++r<e;)i[r]=n[r];return i[e]=s,c(t,this,i)}}((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(o=_.length>3&&"function"==typeof o?(r--,o):void 0,s&&function(t,e,n){if(!x(n))return!1;var r=typeof e;return!!("number"==r?O(n)&&C(e,n.length):"string"==r&&e in n)&&b(n[e],t)}(e[0],e[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var i=e[n];i&&_(t,i,n,o)}return t})));t.exports=T},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=function(t,e){var n;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){return t.apply(void 0,r)}),e)}},e.isObject=function(t){return!!t&&t.constructor===Object}}])}));
//# sourceMappingURL=sse.io-client.dev.js.map