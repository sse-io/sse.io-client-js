{"version":3,"sources":["webpack://sseio/webpack/universalModuleDefinition","webpack://sseio/webpack/bootstrap","webpack://sseio/./node_modules/uuid/lib/rng-browser.js","webpack://sseio/./node_modules/uuid/lib/bytesToUuid.js","webpack://sseio/../src/IClient.ts","webpack://sseio/../src/index.ts","webpack://sseio/../src/client.ts","webpack://sseio/./node_modules/eventemitter3/index.js","webpack://sseio/./node_modules/query-string/index.js","webpack://sseio/./node_modules/strict-uri-encode/index.js","webpack://sseio/./node_modules/decode-uri-component/index.js","webpack://sseio/./node_modules/split-on-first/index.js","webpack://sseio/./node_modules/uuid/index.js","webpack://sseio/./node_modules/uuid/v1.js","webpack://sseio/./node_modules/uuid/v4.js","webpack://sseio/./node_modules/debug/src/browser.js","webpack://sseio/./node_modules/process/browser.js","webpack://sseio/./node_modules/debug/src/common.js","webpack://sseio/./node_modules/ms/index.js","webpack://sseio/./node_modules/shimo-eventsource/browser.js","webpack://sseio/./node_modules/lodash.assign/index.js","webpack://sseio/./node_modules/backo2/index.js","webpack://sseio/../src/helpers.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rnds","Array","Math","random","byteToHex","toString","substr","buf","offset","bth","join","_this","this","helpers_1","debounce","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","push","_eventsCount","clearEvent","EventEmitter","__proto__","eventNames","events","names","slice","getOwnPropertySymbols","concat","listeners","handlers","length","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","len","arguments","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","strictUriEncode","decodeComponent","splitOnFirst","encode","options","strict","encodeURIComponent","decode","removeHash","input","hashStart","indexOf","extract","queryStart","parseValue","parseNumbers","Number","isNaN","trim","parseBooleans","toLowerCase","parse","formatter","result","arrayFormat","accumulator","exec","replace","newValue","split","parserForArrayFormat","assign","sort","ret","param","keys","k","reduce","Boolean","isArray","keysSorter","a","b","map","stringify","index","encoderForArrayFormat","filter","x","parseUrl","url","query","str","charCodeAt","toUpperCase","singleMatcher","RegExp","multiMatcher","decodeComponents","components","decodeURIComponent","err","left","right","tokens","match","encodedURI","replaceMap","entries","customDecodeURIComponent","string","separator","separatorIndex","v1","v4","uuid","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","Error","tl","tmh","ii","log","console","formatArgs","useColors","namespace","humanize","diff","color","splice","lastC","save","namespaces","storage","setItem","removeItem","error","load","getItem","process","env","DEBUG","type","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","$1","localStorage","localstorage","colors","formatters","v","JSON","message","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","argv","version","versions","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","selectColor","hash","createDebug","abs","prevTime","debug","enabled","self","curr","ms","prev","coerce","unshift","format","val","destroy","extend","init","instances","delimiter","newDebug","toNamespace","regexp","substring","default","stack","disable","skips","enable","instance","test","forEach","h","w","y","plural","msAbs","isPlural","round","String","parseFloat","isFinite","long","fmtLong","fmtShort","XMLHttpRequest","XDomainRequest","Promise","fetch","Response","TextDecoder","TextEncoder","AbortController","HEARTBEAT_TIMEOUT","C","F","callback","then","resolve","originalFetch","TextDecoderPolyfill","bitsNeeded","codePoint","signal","abort","octets","valid","shift","octetsCount","octet","fromCharCode","stream","supportsStreamOption","XHRWrapper","xhr","withCredentials","responseType","readyState","status","statusText","responseText","onprogress","onreadystatechange","_contentType","_xhr","_sendTimeout","_abort","HeadersPolyfill","all","parts","_map","XHRTransport","HeadersWrapper","headers","_headers","FetchTransport","EventTarget","_listeners","throwError","Event","data","target","MessageEvent","lastEventId","ConnectionEvent","open","method","that","state","silent","onload","onerror","onabort","onStart","contentType","getResponseHeader","onProgress","onFinish","onTimeout","setRequestHeader","getAllResponseHeaders","send","error1","onStartCallback","onProgressCallback","onFinishCallback","abortTimeout","setAbortTimeout","chunk","controller","textDecoder","credentials","cache","response","reader","body","getReader","cancel","catch","reject","readNextChunk","res","rej","timer","read","done","dispatchEvent","typeListeners","handleEvent","addEventListener","found","removeEventListener","filtered","WAITING","CONNECTING","OPEN","CLOSED","AFTER_CR","FIELD_START","FIELD","VALUE_START","VALUE","contentTypeRegExp","parseDuration","def","clampDuration","min","max","fire","f","EventSourcePolyfill","onopen","onmessage","_close","es","initialRetry","heartbeatTimeout","retry","wasActivity","CurrentTransport","Transport","isFetchSupported","forceXhr","transport","cancelFunction","currentState","dataBuffer","lastEventIdBuffer","eventTypeBuffer","textBuffer","fieldStart","valueStart","close","textChunk","position","field","requestURL","requestHeaders","start","MAX_SAFE_INTEGER","argsTag","funcTag","genTag","reIsUint","func","thisArg","transform","objectProto","objectToString","propertyIsEnumerable","nativeKeys","arg","nativeMax","nonEnumShadows","arrayLikeKeys","inherited","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","iteratee","baseTimes","skipIndexes","isIndex","assignValue","objValue","eq","isPrototype","Ctor","constructor","other","isLength","tag","isObject","isFunction","assigner","source","props","customizer","copyObject","baseKeys","otherArgs","baseRest","sources","guard","isIterateeCall","Backoff","opts","factor","jitter","attempts","duration","pow","rand","deviation","floor","reset","setMin","setMax","setJitter"],"mappings":"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","file":"sse.io-client.dev.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sseio\"] = factory();\n\telse\n\t\troot[\"sseio\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClientError = (function (_super) {\n    __extends(ClientError, _super);\n    function ClientError(message, reason, status) {\n        if (status === void 0) { status = -1; }\n        var _this = _super.call(this, message) || this;\n        _this.reason = reason;\n        _this.status = status;\n        return _this;\n    }\n    return ClientError;\n}(Error));\nexports.ClientError = ClientError;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSUNsaWVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9JQ2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQThCQTtJQUFpQywrQkFBSztJQUlwQyxxQkFBWSxPQUFlLEVBQUUsTUFBYyxFQUFFLE1BQW1CO1FBQW5CLHVCQUFBLEVBQUEsVUFBa0IsQ0FBQztRQUFoRSxZQUNFLGtCQUFNLE9BQU8sQ0FBQyxTQUdmO1FBRkMsS0FBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsS0FBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7O0lBQ3ZCLENBQUM7SUFDSCxrQkFBQztBQUFELENBQUMsQUFURCxDQUFpQyxLQUFLLEdBU3JDO0FBVFksa0NBQVcifQ==","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar client_1 = __importDefault(require(\"./client\"));\nvar IClient_1 = require(\"./IClient\");\nexports.ClientError = IClient_1.ClientError;\nfunction client(url, events, options) {\n    return new client_1.default(url, events, options);\n}\nexports.client = client;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxvREFBOEI7QUFDOUIscUNBQStEO0FBSy9CLHNCQUxBLHFCQUFXLENBS0E7QUFIM0MsU0FBZ0IsTUFBTSxDQUFDLEdBQVcsRUFBRSxNQUFnQixFQUFFLE9BQWtCO0lBQ3RFLE9BQU8sSUFBSSxnQkFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDMUMsQ0FBQztBQUZELHdCQUVDIn0=","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar eventemitter3_1 = require(\"eventemitter3\");\nvar qs = __importStar(require(\"query-string\"));\nvar uuid = __importStar(require(\"uuid\"));\nvar debug_1 = __importDefault(require(\"debug\"));\nvar EventSource = require(\"shimo-eventsource\");\nvar lodashAssign = require(\"lodash.assign\");\nvar Backoff = require(\"backo2\");\nvar helpers_1 = require(\"./helpers\");\nvar IClient_1 = require(\"./IClient\");\nvar debug = debug_1.default('sse-io-client');\nexports.EVENTS = {\n    MESSAGE: 'message',\n    ERROR: 'error',\n    CONNECTED: 'connected',\n    DISCONNECT: 'disconnect',\n};\nvar DEFAULT_BACKOFF_OPTIONS = {\n    min: 100,\n    max: 5000,\n    jitter: 0.5,\n};\nvar Client = (function (_super) {\n    __extends(Client, _super);\n    function Client(url, events, options) {\n        var _this = _super.call(this) || this;\n        _this.reconnect = true;\n        _this.stopped = false;\n        _this.connected = false;\n        _this.url = url;\n        _this.events = events;\n        _this.clientId = uuid.v4().toString();\n        if (options) {\n            if (options.hasOwnProperty('reconnect')) {\n                _this.reconnect = !!options.reconnect;\n            }\n        }\n        _this.backoff = new Backoff(lodashAssign(DEFAULT_BACKOFF_OPTIONS, options && options.backoffOptions));\n        return _this;\n    }\n    Client.prototype.getId = function () {\n        return this.clientId;\n    };\n    Client.prototype.start = function (options) {\n        this.stopped = false;\n        if (options) {\n            this.sseOptions = options;\n        }\n        this.pull();\n    };\n    Client.prototype.stop = function () {\n        if (!this.stopped) {\n            if (this.eventSource) {\n                this.eventSource.close();\n            }\n            this.stopped = true;\n            this.emit(exports.EVENTS.DISCONNECT);\n        }\n    };\n    Client.prototype.addEvent = function (event, params) {\n        var _this = this;\n        if (this.events.length > 0 && !this.events.includes(event)) {\n            this.events.push(event);\n        }\n        if (params) {\n            this.addQueryParams(params);\n        }\n        helpers_1.debounce(function () { return _this.restart; }, 100);\n    };\n    Client.prototype.removeEvent = function (event, params) {\n        var _this = this;\n        if (this.events.length > 0) {\n            var idx = this.events.indexOf(event);\n            if (idx > -1) {\n                this.events.splice(idx, 1);\n            }\n        }\n        if (params) {\n            this.addQueryParams(params);\n        }\n        helpers_1.debounce(function () { return _this.restart; }, 100);\n    };\n    Client.prototype.addQueryParams = function (params) {\n        if (!helpers_1.isObject(params)) {\n            throw new Error('params should be an object!');\n        }\n        if (this.sseOptions) {\n            this.sseOptions.queryParams = lodashAssign(this.sseOptions.queryParams, params);\n        }\n        else {\n            this.sseOptions = {\n                queryParams: params,\n            };\n        }\n        return this.sseOptions.queryParams;\n    };\n    Client.prototype.restart = function () {\n        this.stop();\n        this.start();\n    };\n    Client.prototype.isConnected = function () {\n        return this.connected;\n    };\n    Client.prototype.pull = function () {\n        var _this = this;\n        if (this.stopped) {\n            return;\n        }\n        var url = this.genEventSourceUrl();\n        var eventSource = (this.eventSource = new EventSource(url, this.sseOptions));\n        var _loop_1 = function (event_1) {\n            eventSource.addEventListener(event_1, function (e) {\n                _this.emit(exports.EVENTS.MESSAGE, {\n                    event: event_1,\n                    message: e.data,\n                });\n            });\n        };\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            _loop_1(event_1);\n        }\n        eventSource.onerror = function (error) {\n            _this.onEventSourceErrorOrClose(error);\n        };\n        eventSource.addEventListener('close', function (error) {\n            _this.onEventSourceErrorOrClose(error);\n        });\n        this.connected = true;\n        this.emit(exports.EVENTS.CONNECTED);\n    };\n    Client.prototype.genEventSourceUrl = function () {\n        var _a = this.url.split('?'), baseUrl = _a[0], queryString = _a[1];\n        var parsed = qs.parse(queryString);\n        lodashAssign(parsed, {\n            clientId: this.clientId,\n            events: this.events,\n        }, this.sseOptions && this.sseOptions.queryParams);\n        return baseUrl + \"?\" + qs.stringify(parsed);\n    };\n    Client.prototype.onEventSourceErrorOrClose = function (error) {\n        this.connected = false;\n        this.emit(exports.EVENTS.DISCONNECT);\n        if (this.eventSource) {\n            try {\n                this.eventSource.close();\n                this.eventSource.removeEventListener('close');\n                for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\n                    var event_2 = _a[_i];\n                    this.eventSource.removeEventListener(event_2);\n                }\n            }\n            catch (e) {\n                debug('event source closed error', e);\n            }\n        }\n        var status = String(error.status);\n        if (status === '' || status === '0') {\n            this.emit(exports.EVENTS.ERROR, new IClient_1.ClientError(error.message, \"can't connect to server\"));\n            this.delayPull(status);\n            return;\n        }\n        if (status[0] === '2') {\n            this.backoff.reset();\n            this.reconnect && this.pull();\n            return;\n        }\n        this.emit(exports.EVENTS.ERROR, new IClient_1.ClientError(error.message, 'http error', error.status));\n        if (status[0] === '4' && error.status !== 429) {\n            return;\n        }\n        this.reconnect && this.delayPull(status);\n    };\n    Client.prototype.delayPull = function (status) {\n        var _this = this;\n        var delay = this.backoff.duration();\n        debug(\"pull with status \" + status + \", delay \" + delay + \"ms to reconnect\");\n        if (this.backoffRunTimer) {\n            clearTimeout(this.backoffRunTimer);\n        }\n        this.backoffRunTimer = setTimeout(function () { return _this.pull(); }, delay);\n    };\n    return Client;\n}(eventemitter3_1.EventEmitter));\nexports.default = Client;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0NBQTZDO0FBQzdDLCtDQUFtQztBQUNuQyx5Q0FBNkI7QUFDN0IsZ0RBQTJCO0FBRTNCLCtDQUFrRDtBQUNsRCw0Q0FBK0M7QUFDL0MsZ0NBQW1DO0FBRW5DLHFDQUErQztBQUUvQyxxQ0FBd0U7QUFFeEUsSUFBTSxLQUFLLEdBQUcsZUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRXpCLFFBQUEsTUFBTSxHQUFHO0lBQ3BCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLEtBQUssRUFBRSxPQUFPO0lBQ2QsU0FBUyxFQUFFLFdBQVc7SUFDdEIsVUFBVSxFQUFFLFlBQVk7Q0FDekIsQ0FBQztBQUVGLElBQU0sdUJBQXVCLEdBQUc7SUFDOUIsR0FBRyxFQUFFLEdBQUc7SUFDUixHQUFHLEVBQUUsSUFBSTtJQUNULE1BQU0sRUFBRSxHQUFHO0NBQ1osQ0FBQztBQUVGO0lBQW9DLDBCQUFZO0lBYTlDLGdCQUFZLEdBQVcsRUFBRSxNQUFnQixFQUFFLE9BQWtCO1FBQTdELFlBQ0UsaUJBQU8sU0FjUjtRQW5CTyxlQUFTLEdBQVksSUFBSSxDQUFDO1FBQzFCLGFBQU8sR0FBWSxLQUFLLENBQUM7UUFDekIsZUFBUyxHQUFZLEtBQUssQ0FBQztRQUlqQyxLQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLEtBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLEtBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBRXJDLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxFQUFFO2dCQUN2QyxLQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxPQUFPLENB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","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn key => (result, value, index) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (index === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(',')];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;\n\t\t\t\tconst newValue = isArray ? value.split(',') : value;\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(param.replace(/\\+/g, ' '), '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\tconst keys = Object.keys(object);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/** @license\n * eventsource.js\n * Available under MIT License (MIT)\n * https://github.com/Yaffle/EventSource/\n */\n\nvar setTimeout = window.setTimeout.bind(window);\nvar clearTimeout = window.clearTimeout.bind(window);\nvar XMLHttpRequest = window.XMLHttpRequest;\nvar XDomainRequest = window.XDomainRequest;\nvar document = window.document;\nvar Promise = window.Promise;\nvar fetch = window.fetch.bind(window);\nvar Response = window.Response;\nvar TextDecoder = window.TextDecoder;\nvar TextEncoder = window.TextEncoder;\nvar AbortController = window.AbortController;\nvar HEARTBEAT_TIMEOUT = 5000;\n\nif (Object.create == undefined) {\n  Object.create = function(C) {\n    function F() {}\n    F.prototype = C;\n    return new F();\n  };\n}\n\nif (Promise != undefined && Promise.prototype[\"finally\"] == undefined) {\n  Promise.prototype[\"finally\"] = function(callback) {\n    return this.then(\n      function(result) {\n        return Promise.resolve(callback()).then(function() {\n          return result;\n        });\n      },\n      function(error) {\n        return Promise.resolve(callback()).then(function() {\n          throw error;\n        });\n      }\n    );\n  };\n}\n\n// see #118, #123, #125\nif (fetch != undefined && true) {\n  var originalFetch = fetch;\n  fetch = function(url, options) {\n    return Promise.resolve(originalFetch(url, options));\n  };\n}\n\nif (AbortController == undefined) {\n  AbortController = function() {\n    this.signal = null;\n    this.abort = function() {};\n  };\n}\n\nfunction TextDecoderPolyfill() {\n  this.bitsNeeded = 0;\n  this.codePoint = 0;\n}\n\nTextDecoderPolyfill.prototype.decode = function(octets) {\n  function valid(codePoint, shift, octetsCount) {\n    if (octetsCount === 1) {\n      return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07ff;\n    }\n    if (octetsCount === 2) {\n      return (\n        (codePoint >= 0x0800 >> shift && codePoint << shift <= 0xd7ff) ||\n        (codePoint >= 0xe000 >> shift && codePoint << shift <= 0xffff)\n      );\n    }\n    if (octetsCount === 3) {\n      return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10ffff;\n    }\n    throw new Error();\n  }\n  function octetsCount(bitsNeeded, codePoint) {\n    if (bitsNeeded === 6 * 1) {\n      return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1;\n    }\n    if (bitsNeeded === 6 * 2) {\n      return codePoint > 15 ? 3 : 2;\n    }\n    if (bitsNeeded === 6 * 3) {\n      return 3;\n    }\n    throw new Error();\n  }\n  var REPLACER = 0xfffd;\n  var string = \"\";\n  var bitsNeeded = this.bitsNeeded;\n  var codePoint = this.codePoint;\n  for (var i = 0; i < octets.length; i += 1) {\n    var octet = octets[i];\n    if (bitsNeeded !== 0) {\n      if (\n        octet < 128 ||\n        octet > 191 ||\n        !valid(\n          (codePoint << 6) | (octet & 63),\n          bitsNeeded - 6,\n          octetsCount(bitsNeeded, codePoint)\n        )\n      ) {\n        bitsNeeded = 0;\n        codePoint = REPLACER;\n        string += String.fromCharCode(codePoint);\n      }\n    }\n    if (bitsNeeded === 0) {\n      if (octet >= 0 && octet <= 127) {\n        bitsNeeded = 0;\n        codePoint = octet;\n      } else if (octet >= 192 && octet <= 223) {\n        bitsNeeded = 6 * 1;\n        codePoint = octet & 31;\n      } else if (octet >= 224 && octet <= 239) {\n        bitsNeeded = 6 * 2;\n        codePoint = octet & 15;\n      } else if (octet >= 240 && octet <= 247) {\n        bitsNeeded = 6 * 3;\n        codePoint = octet & 7;\n      } else {\n        bitsNeeded = 0;\n        codePoint = REPLACER;\n      }\n      if (\n        bitsNeeded !== 0 &&\n        !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))\n      ) {\n        bitsNeeded = 0;\n        codePoint = REPLACER;\n      }\n    } else {\n      bitsNeeded -= 6;\n      codePoint = (codePoint << 6) | (octet & 63);\n    }\n    if (bitsNeeded === 0) {\n      if (codePoint <= 0xffff) {\n        string += String.fromCharCode(codePoint);\n      } else {\n        string += String.fromCharCode(\n          0xd800 + ((codePoint - 0xffff - 1) >> 10)\n        );\n        string += String.fromCharCode(\n          0xdc00 + ((codePoint - 0xffff - 1) & 0x3ff)\n        );\n      }\n    }\n  }\n  this.bitsNeeded = bitsNeeded;\n  this.codePoint = codePoint;\n  return string;\n};\n\n// Firefox < 38 throws an error with stream option\nvar supportsStreamOption = function() {\n  try {\n    return (\n      new TextDecoder().decode(new TextEncoder().encode(\"test\"), {\n        stream: true\n      }) === \"test\"\n    );\n  } catch (error) {\n    console.log(error);\n  }\n  return false;\n};\n\n// IE, Edge\nif (\n  TextDecoder == undefined ||\n  TextEncoder == undefined ||\n  !supportsStreamOption()\n) {\n  TextDecoder = TextDecoderPolyfill;\n}\n\nvar k = function() {};\n\nfunction XHRWrapper(xhr) {\n  this.withCredentials = false;\n  this.responseType = \"\";\n  this.readyState = 0;\n  this.status = 0;\n  this.statusText = \"\";\n  this.responseText = \"\";\n  this.onprogress = k;\n  this.onreadystatechange = k;\n  this._contentType = \"\";\n  this._xhr = xhr;\n  this._sendTimeout = 0;\n  this._abort = k;\n}\n\nXHRWrapper.prototype.open = function(method, url) {\n  this._abort(true);\n\n  var that = this;\n  var xhr = this._xhr;\n  var state = 1;\n  var timeout = 0;\n\n  this._abort = function(silent) {\n    if (that._sendTimeout !== 0) {\n      clearTimeout(that._sendTimeout);\n      that._sendTimeout = 0;\n    }\n    if (state === 1 || state === 2 || state === 3) {\n      state = 4;\n      xhr.onload = k;\n      xhr.onerror = k;\n      xhr.onabort = k;\n      xhr.onprogress = k;\n      xhr.onreadystatechange = k;\n      // IE 8 - 9: XDomainRequest#abort() does not fire any event\n      // Opera < 10: XMLHttpRequest#abort() does not fire any event\n      xhr.abort();\n      if (timeout !== 0) {\n        clearTimeout(timeout);\n        timeout = 0;\n      }\n      if (!silent) {\n        that.readyState = 4;\n        that.onreadystatechange();\n      }\n    }\n    state = 0;\n  };\n\n  var onStart = function() {\n    if (state === 1) {\n      //state = 2;\n      var status = 0;\n      var statusText = \"\";\n      var contentType = undefined;\n      if (!(\"contentType\" in xhr)) {\n        try {\n          status = xhr.status;\n          statusText = xhr.statusText;\n          contentType = xhr.getResponseHeader(\"Content-Type\");\n        } catch (error) {\n          // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\n          // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\n          // https://bugs.webkit.org/show_bug.cgi?id=29121\n          status = 0;\n          statusText = \"\";\n          contentType = undefined;\n          // Firefox < 14, Chrome ?, Safari ?\n          // https://bugs.webkit.org/show_bug.cgi?id=29658\n          // https://bugs.webkit.org/show_bug.cgi?id=77854\n        }\n      } else {\n        status = 200;\n        statusText = \"OK\";\n        contentType = xhr.contentType;\n      }\n      if (status !== 0) {\n        state = 2;\n        that.readyState = 2;\n        that.status = status;\n        that.statusText = statusText;\n        that._contentType = contentType;\n        that.onreadystatechange();\n      }\n    }\n  };\n  var onProgress = function() {\n    onStart();\n    if (state === 2 || state === 3) {\n      state = 3;\n      var responseText = \"\";\n      try {\n        responseText = xhr.responseText;\n      } catch (error) {\n        // IE 8 - 9 with XMLHttpRequest\n      }\n      that.readyState = 3;\n      that.responseText = responseText;\n      that.onprogress();\n    }\n  };\n  var onFinish = function() {\n    // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\n    // IE 8 fires \"onload\" without \"onprogress\"\n    onProgress();\n    if (state === 1 || state === 2 || state === 3) {\n      state = 4;\n      if (timeout !== 0) {\n        clearTimeout(timeout);\n        timeout = 0;\n      }\n      that.readyState = 4;\n      that.onreadystatechange();\n    }\n  };\n  var onReadyStateChange = function() {\n    if (xhr != undefined) {\n      // Opera 12\n      if (xhr.readyState === 4) {\n        onFinish();\n      } else if (xhr.readyState === 3) {\n        onProgress();\n      } else if (xhr.readyState === 2) {\n        onStart();\n      }\n    }\n  };\n  var onTimeout = function() {\n    timeout = setTimeout(function() {\n      onTimeout();\n    }, 500);\n    if (xhr.readyState === 3) {\n      onProgress();\n    }\n  };\n\n  // XDomainRequest#abort removes onprogress, onerror, onload\n  xhr.onload = onFinish;\n  xhr.onerror = onFinish;\n  // improper fix to match Firefox behaviour, but it is better than just ignore abort\n  // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\n  // https://code.google.com/p/chromium/issues/detail?id=153570\n  // IE 8 fires \"onload\" without \"onprogress\n  xhr.onabort = onFinish;\n\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=736723\n  if (\n    !(\"sendAsBinary\" in XMLHttpRequest.prototype) &&\n    !(\"mozAnon\" in XMLHttpRequest.prototype)\n  ) {\n    xhr.onprogress = onProgress;\n  }\n\n  // IE 8 - 9 (XMLHTTPRequest)\n  // Opera < 12\n  // Firefox < 3.5\n  // Firefox 3.5 - 3.6 - ? < 9.0\n  // onprogress is not fired sometimes or delayed\n  // see also #64\n  xhr.onreadystatechange = onReadyStateChange;\n\n  if (\"contentType\" in xhr) {\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"padding=true\";\n  }\n  xhr.open(method, url, true);\n\n  if (\"readyState\" in xhr) {\n    // workaround for Opera 12 issue with \"progress\" events\n    // #91\n    timeout = setTimeout(function() {\n      onTimeout();\n    }, 0);\n  }\n};\nXHRWrapper.prototype.abort = function() {\n  this._abort(false);\n};\nXHRWrapper.prototype.getResponseHeader = function(name) {\n  return this._contentType;\n};\nXHRWrapper.prototype.setRequestHeader = function(name, value) {\n  var xhr = this._xhr;\n  if (\"setRequestHeader\" in xhr) {\n    xhr.setRequestHeader(name, value);\n  }\n};\nXHRWrapper.prototype.getAllResponseHeaders = function() {\n  return this._xhr.getAllResponseHeaders != undefined\n    ? this._xhr.getAllResponseHeaders()\n    : \"\";\n};\nXHRWrapper.prototype.send = function() {\n  // loading indicator in Safari < ? (6), Chrome < 14, Firefox\n  if (\n    !(\"ontimeout\" in XMLHttpRequest.prototype) &&\n    document != undefined &&\n    document.readyState != undefined &&\n    document.readyState !== \"complete\"\n  ) {\n    var that = this;\n    that._sendTimeout = setTimeout(function() {\n      that._sendTimeout = 0;\n      that.send();\n    }, 4);\n    return;\n  }\n\n  var xhr = this._xhr;\n  // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\n  xhr.withCredentials = this.withCredentials;\n  xhr.responseType = this.responseType;\n  try {\n    // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\n    xhr.send(undefined);\n  } catch (error1) {\n    // Safari 5.1.7, Opera 12\n    throw error1;\n  }\n};\n\nfunction toLowerCase(name) {\n  return name.replace(/[A-Z]/g, function(c) {\n    return String.fromCharCode(c.charCodeAt(0) + 0x20);\n  });\n}\n\nfunction HeadersPolyfill(all) {\n  // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\n  var map = Object.create(null);\n  var array = all.split(\"\\r\\n\");\n  for (var i = 0; i < array.length; i += 1) {\n    var line = array[i];\n    var parts = line.split(\": \");\n    var name = parts.shift();\n    var value = parts.join(\": \");\n    map[toLowerCase(name)] = value;\n  }\n  this._map = map;\n}\nHeadersPolyfill.prototype.get = function(name) {\n  return this._map[toLowerCase(name)];\n};\n\nfunction XHRTransport() {}\n\nXHRTransport.prototype.open = function(\n  xhr,\n  onStartCallback,\n  onProgressCallback,\n  onFinishCallback,\n  url,\n  withCredentials,\n  headers\n) {\n  xhr.open(\"GET\", url);\n  var offset = 0;\n  var abortTimeout;\n\n  function setAbortTimeout() {\n    abortTimeout = setTimeout(function() {\n      xhr.abort();\n    }, HEARTBEAT_TIMEOUT);\n  }\n\n  setAbortTimeout();\n  xhr.onprogress = function() {\n    var responseText = xhr.responseText;\n    var chunk = responseText.slice(offset);\n    offset += chunk.length;\n\n    if (chunk.length > 0) {\n      clearTimeout(abortTimeout);\n      setAbortTimeout();\n    }\n\n    onProgressCallback(chunk);\n  };\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 2) {\n      var status = xhr.status;\n      var statusText = xhr.statusText;\n      var contentType = xhr.getResponseHeader(\"Content-Type\");\n      var headers = xhr.getAllResponseHeaders();\n      onStartCallback(\n        status,\n        statusText,\n        contentType,\n        new HeadersPolyfill(headers),\n        function() {\n          xhr.abort();\n        }\n      );\n    } else if (xhr.readyState === 4) {\n      onFinishCallback();\n    }\n  };\n  xhr.withCredentials = withCredentials;\n  xhr.responseType = \"text\";\n  for (var name in headers) {\n    if (Object.prototype.hasOwnProperty.call(headers, name)) {\n      xhr.setRequestHeader(name, headers[name]);\n    }\n  }\n  xhr.send();\n};\n\nfunction HeadersWrapper(headers) {\n  this._headers = headers;\n}\nHeadersWrapper.prototype.get = function(name) {\n  return this._headers.get(name);\n};\n\nfunction FetchTransport() {}\n\nFetchTransport.prototype.open = function(\n  xhr,\n  onStartCallback,\n  onProgressCallback,\n  onFinishCallback,\n  url,\n  withCredentials,\n  headers\n) {\n  var controller = new AbortController();\n  var signal = controller.signal; // see #120\n  var textDecoder = new TextDecoder();\n  fetch(url, {\n    headers: headers,\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    signal: signal,\n    cache: \"no-store\"\n  })\n    .then(function(response) {\n      var reader = response.body.getReader();\n      onStartCallback(\n        response.status,\n        response.statusText,\n        response.headers.get(\"Content-Type\"),\n        new HeadersWrapper(response.headers),\n        function() {\n          controller.abort();\n          reader.cancel().catch(function() {});\n        }\n      );\n      return new Promise(function(resolve, reject) {\n        var readNextChunk = function() {\n          new Promise(function(res, rej) {\n            var timer = setTimeout(function() {\n              rej(new Error(\"Reader read timeout\"));\n              timer = null;\n            }, HEARTBEAT_TIMEOUT);\n\n            reader.read().then(function(result) {\n              if (timer) {\n                clearTimeout(timer);\n                res(result);\n              }\n            }, rej);\n          })\n            .then(function(result) {\n              if (result.done) {\n                //Note: bytes in textDecoder are ignored\n                resolve(undefined);\n              } else {\n                var chunk = textDecoder.decode(result.value, { stream: true });\n                onProgressCallback(chunk);\n                readNextChunk();\n              }\n            })\n            [\"catch\"](function(error) {\n              reject(error);\n            });\n        };\n        readNextChunk();\n      });\n    })\n    .catch(function() {})\n    [\"finally\"](function() {\n      onFinishCallback();\n    });\n};\n\nfunction EventTarget() {\n  this._listeners = Object.create(null);\n}\n\nfunction throwError(e) {\n  setTimeout(function() {\n    throw e;\n  }, 0);\n}\n\nEventTarget.prototype.dispatchEvent = function(event) {\n  event.target = this;\n  var typeListeners = this._listeners[event.type];\n  if (typeListeners != undefined) {\n    var length = typeListeners.length;\n    for (var i = 0; i < length; i += 1) {\n      var listener = typeListeners[i];\n      try {\n        if (typeof listener.handleEvent === \"function\") {\n          listener.handleEvent(event);\n        } else {\n          listener.call(this, event);\n        }\n      } catch (e) {\n        throwError(e);\n      }\n    }\n  }\n};\nEventTarget.prototype.addEventListener = function(type, listener) {\n  type = String(type);\n  var listeners = this._listeners;\n  var typeListeners = listeners[type];\n  if (typeListeners == undefined) {\n    typeListeners = [];\n    listeners[type] = typeListeners;\n  }\n  var found = false;\n  for (var i = 0; i < typeListeners.length; i += 1) {\n    if (typeListeners[i] === listener) {\n      found = true;\n    }\n  }\n  if (!found) {\n    typeListeners.push(listener);\n  }\n};\nEventTarget.prototype.removeEventListener = function(type, listener) {\n  type = String(type);\n  var listeners = this._listeners;\n  var typeListeners = listeners[type];\n  if (typeListeners != undefined) {\n    var filtered = [];\n    for (var i = 0; i < typeListeners.length; i += 1) {\n      if (typeListeners[i] !== listener) {\n        filtered.push(typeListeners[i]);\n      }\n    }\n    if (filtered.length === 0) {\n      delete listeners[type];\n    } else {\n      listeners[type] = filtered;\n    }\n  }\n};\n\nfunction Event(type, data) {\n  this.type = type;\n  this.target = undefined;\n\n  for (var key in data) {\n    if (!this.hasOwnProperty(key)) {\n      this[key] = data[key];\n    }\n  }\n}\n\nfunction MessageEvent(type, options) {\n  Event.call(this, type);\n  this.data = options.data;\n  this.lastEventId = options.lastEventId;\n}\n\nMessageEvent.prototype = Object.create(Event.prototype);\n\nfunction ConnectionEvent(type, options) {\n  Event.call(this, type);\n  this.status = options.status;\n  this.statusText = options.statusText;\n  this.headers = options.headers;\n}\n\nConnectionEvent.prototype = Object.create(Event.prototype);\n\nvar WAITING = -1;\nvar CONNECTING = 0;\nvar OPEN = 1;\nvar CLOSED = 2;\n\nvar AFTER_CR = -1;\nvar FIELD_START = 0;\nvar FIELD = 1;\nvar VALUE_START = 2;\nvar VALUE = 3;\n\nvar contentTypeRegExp = /^text\\/event\\-stream;?(\\s*charset\\=utf\\-8)?$/i;\n\nvar MINIMUM_DURATION = 1000;\nvar MAXIMUM_DURATION = 18000000;\n\nvar parseDuration = function(value, def) {\n  var n = parseInt(value, 10);\n  if (n !== n) {\n    n = def;\n  }\n  return clampDuration(n);\n};\nvar clampDuration = function(n) {\n  return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION);\n};\n\nvar fire = function(that, f, event) {\n  try {\n    if (typeof f === \"function\") {\n      f.call(that, event);\n    }\n  } catch (e) {\n    throwError(e);\n  }\n};\n\nfunction EventSourcePolyfill(url, options) {\n  EventTarget.call(this);\n\n  this.onopen = undefined;\n  this.onmessage = undefined;\n  this.onerror = undefined;\n\n  this.url = undefined;\n  this.readyState = undefined;\n  this.withCredentials = undefined;\n\n  this._close = undefined;\n\n  this.status = 0;\n  start(this, url, options);\n}\n\nfunction getBestTransport() {\n  return (XMLHttpRequest != undefined &&\n    \"withCredentials\" in XMLHttpRequest.prototype) ||\n    XDomainRequest == undefined\n    ? XMLHttpRequest\n    : XDomainRequest;\n}\n\nvar isFetchSupported =\n  fetch != undefined && Response != undefined && \"body\" in Response.prototype;\n\nfunction start(es, url, options) {\n  url = String(url);\n  var withCredentials =\n    options != undefined && Boolean(options.withCredentials);\n\n  var initialRetry = clampDuration(1000);\n  var heartbeatTimeout =\n    options != undefined && options.heartbeatTimeout != undefined\n      ? parseDuration(options.heartbeatTimeout, 45000)\n      : clampDuration(45000);\n\n  var lastEventId = \"\";\n  var retry = initialRetry;\n  var wasActivity = false;\n  var headers =\n    options != undefined && options.headers != undefined\n      ? JSON.parse(JSON.stringify(options.headers))\n      : undefined;\n  var CurrentTransport =\n    options != undefined && options.Transport != undefined\n      ? options.Transport\n      : getBestTransport();\n  var xhr =\n    isFetchSupported &&\n    !(\n      options != undefined &&\n      (options.Transport != undefined || options.forceXhr)\n    )\n      ? undefined\n      : new XHRWrapper(new CurrentTransport());\n  var transport = xhr == undefined ? new FetchTransport() : new XHRTransport();\n  var cancelFunction = undefined;\n  var timeout = 0;\n  var currentState = WAITING;\n  var dataBuffer = \"\";\n  var lastEventIdBuffer = \"\";\n  var eventTypeBuffer = \"\";\n\n  var textBuffer = \"\";\n  var state = FIELD_START;\n  var fieldStart = 0;\n  var valueStart = 0;\n\n  var onStart = function(status, statusText, contentType, headers, cancel) {\n    es.status = status;\n    if (currentState === CONNECTING) {\n      cancelFunction = cancel;\n      if (\n        status === 200 &&\n        contentType != undefined &&\n        contentTypeRegExp.test(contentType)\n      ) {\n        currentState = OPEN;\n        wasActivity = true;\n        retry = initialRetry;\n        es.readyState = OPEN;\n        var event = new ConnectionEvent(\"open\", {\n          status: status,\n          statusText: statusText,\n          headers: headers\n        });\n        es.dispatchEvent(event);\n        fire(es, es.onopen, event);\n      } else {\n        var message = \"\";\n        if (status !== 200) {\n          if (statusText) {\n            statusText = statusText.replace(/\\s+/g, \" \");\n          }\n          message =\n            \"EventSource's response has a status \" +\n            status +\n            \" \" +\n            statusText +\n            \" that is not 200. Aborting the connection.\";\n        } else {\n          message =\n            \"EventSource's response has a Content-Type specifying an unsupported type: \" +\n            (contentType == undefined\n              ? \"-\"\n              : contentType.replace(/\\s+/g, \" \")) +\n            \". Aborting the connection.\";\n        }\n        throwError(new Error(message));\n        close();\n        var event = new ConnectionEvent(\"error\", {\n          status: status,\n          statusText: statusText,\n          headers: headers\n        });\n        es.dispatchEvent(event);\n        fire(es, es.onerror, event);\n      }\n    }\n  };\n\n  var onProgress = function(textChunk) {\n    if (currentState === OPEN) {\n      var n = -1;\n      for (var i = 0; i < textChunk.length; i += 1) {\n        var c = textChunk.charCodeAt(i);\n        if (c === \"\\n\".charCodeAt(0) || c === \"\\r\".charCodeAt(0)) {\n          n = i;\n        }\n      }\n      var chunk = (n !== -1 ? textBuffer : \"\") + textChunk.slice(0, n + 1);\n      textBuffer = (n === -1 ? textBuffer : \"\") + textChunk.slice(n + 1);\n      if (chunk !== \"\") {\n        wasActivity = true;\n      }\n      for (var position = 0; position < chunk.length; position += 1) {\n        var c = chunk.charCodeAt(position);\n        if (state === AFTER_CR && c === \"\\n\".charCodeAt(0)) {\n          state = FIELD_START;\n        } else {\n          if (state === AFTER_CR) {\n            state = FIELD_START;\n          }\n          if (c === \"\\r\".charCodeAt(0) || c === \"\\n\".charCodeAt(0)) {\n            if (state !== FIELD_START) {\n              if (state === FIELD) {\n                valueStart = position + 1;\n              }\n              var field = chunk.slice(fieldStart, valueStart - 1);\n              var value = chunk.slice(\n                valueStart +\n                  (valueStart < position &&\n                  chunk.charCodeAt(valueStart) === \" \".charCodeAt(0)\n                    ? 1\n                    : 0),\n                position\n              );\n              if (field === \"data\") {\n                dataBuffer += \"\\n\";\n                dataBuffer += value;\n              } else if (field === \"id\") {\n                lastEventIdBuffer = value;\n              } else if (field === \"event\") {\n                eventTypeBuffer = value;\n              } else if (field === \"retry\") {\n                initialRetry = parseDuration(value, initialRetry);\n                retry = initialRetry;\n              } else if (field === \"heartbeatTimeout\") {\n                heartbeatTimeout = parseDuration(value, heartbeatTimeout);\n                if (timeout !== 0) {\n                  clearTimeout(timeout);\n                  timeout = setTimeout(function() {\n                    onTimeout();\n                  }, heartbeatTimeout);\n                }\n              }\n            }\n            if (state === FIELD_START) {\n              if (dataBuffer !== \"\") {\n                lastEventId = lastEventIdBuffer;\n                if (eventTypeBuffer === \"\") {\n                  eventTypeBuffer = \"message\";\n                }\n                var event = new MessageEvent(eventTypeBuffer, {\n                  data: dataBuffer.slice(1),\n                  lastEventId: lastEventIdBuffer\n                });\n                es.dispatchEvent(event);\n                if (eventTypeBuffer === \"message\") {\n                  fire(es, es.onmessage, event);\n                }\n                if (currentState === CLOSED) {\n                  return;\n                }\n              }\n              dataBuffer = \"\";\n              eventTypeBuffer = \"\";\n            }\n            state = c === \"\\r\".charCodeAt(0) ? AFTER_CR : FIELD_START;\n          } else {\n            if (state === FIELD_START) {\n              fieldStart = position;\n              state = FIELD;\n            }\n            if (state === FIELD) {\n              if (c === \":\".charCodeAt(0)) {\n                valueStart = position + 1;\n                state = VALUE_START;\n              }\n            } else if (state === VALUE_START) {\n              state = VALUE;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  var onFinish = function() {\n    if (currentState === OPEN || currentState === CONNECTING) {\n      currentState = WAITING;\n      if (timeout !== 0) {\n        clearTimeout(timeout);\n        timeout = 0;\n      }\n      timeout = setTimeout(function() {\n        onTimeout();\n      }, retry);\n      retry = clampDuration(Math.min(initialRetry * 16, retry * 2));\n\n      es.readyState = CONNECTING;\n      var event = new Event(\"error\", { status: es.status });\n      es.dispatchEvent(event);\n      fire(es, es.onerror, event);\n    }\n  };\n\n  var close = function() {\n    currentState = CLOSED;\n    if (cancelFunction != undefined) {\n      cancelFunction();\n      cancelFunction = undefined;\n    }\n    if (timeout !== 0) {\n      clearTimeout(timeout);\n      timeout = 0;\n    }\n    es.readyState = CLOSED;\n  };\n\n  var onTimeout = function() {\n    timeout = 0;\n\n    if (currentState !== WAITING) {\n      if (!wasActivity && cancelFunction != undefined) {\n        throwError(\n          new Error(\n            \"No activity within \" +\n              heartbeatTimeout +\n              \" milliseconds. Reconnecting.\"\n          )\n        );\n        cancelFunction();\n        cancelFunction = undefined;\n      } else {\n        wasActivity = false;\n        timeout = setTimeout(function() {\n          onTimeout();\n        }, heartbeatTimeout);\n      }\n      return;\n    }\n\n    wasActivity = false;\n    timeout = setTimeout(function() {\n      onTimeout();\n    }, heartbeatTimeout);\n\n    currentState = CONNECTING;\n    dataBuffer = \"\";\n    eventTypeBuffer = \"\";\n    lastEventIdBuffer = lastEventId;\n    textBuffer = \"\";\n    fieldStart = 0;\n    valueStart = 0;\n    state = FIELD_START;\n\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\n    // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\n    var requestURL = url;\n    if (url.slice(0, 5) !== \"data:\" && url.slice(0, 5) !== \"blob:\") {\n      if (lastEventId !== \"\") {\n        requestURL +=\n          (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") +\n          \"lastEventId=\" +\n          encodeURIComponent(lastEventId);\n      }\n    }\n    var requestHeaders = {};\n    requestHeaders[\"Accept\"] = \"text/event-stream\";\n    if (headers != undefined) {\n      for (var name in headers) {\n        if (Object.prototype.hasOwnProperty.call(headers, name)) {\n          requestHeaders[name] = headers[name];\n        }\n      }\n    }\n    try {\n      transport.open(\n        xhr,\n        onStart,\n        onProgress,\n        onFinish,\n        requestURL,\n        withCredentials,\n        requestHeaders\n      );\n    } catch (error) {\n      close();\n      throw error;\n    }\n  };\n\n  es.url = url;\n  es.readyState = CONNECTING;\n  es.withCredentials = withCredentials;\n  es._close = close;\n\n  onTimeout();\n}\n\nEventSourcePolyfill.prototype = Object.create(EventTarget.prototype);\nEventSourcePolyfill.prototype.CONNECTING = CONNECTING;\nEventSourcePolyfill.prototype.OPEN = OPEN;\nEventSourcePolyfill.prototype.CLOSED = CLOSED;\nEventSourcePolyfill.prototype.close = function() {\n  this._close();\n};\n\nEventSourcePolyfill.CONNECTING = CONNECTING;\nEventSourcePolyfill.OPEN = OPEN;\nEventSourcePolyfill.CLOSED = CLOSED;\nEventSourcePolyfill.prototype.withCredentials = undefined;\n\nmodule.exports = EventSourcePolyfill;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.debounce = function (func, waitFor) {\n    var timeout;\n    var debounced = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timeout);\n        timeout = setTimeout(function () { return func.apply(void 0, args); }, waitFor);\n    };\n    return debounced;\n};\nexports.isObject = function (obj) {\n    return !!obj && obj.constructor === Object;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9oZWxwZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQWEsUUFBQSxRQUFRLEdBQUcsVUFDdEIsSUFBTyxFQUNQLE9BQWU7SUFFZixJQUFJLE9BQVksQ0FBQztJQUVqQixJQUFNLFNBQVMsR0FBRztRQUFDLGNBQWM7YUFBZCxVQUFjLEVBQWQscUJBQWMsRUFBZCxJQUFjO1lBQWQseUJBQWM7O1FBQy9CLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN0QixPQUFPLEdBQUcsVUFBVSxDQUFDLGNBQU0sT0FBQSxJQUFJLGVBQUksSUFBSSxHQUFaLENBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUM7SUFFRixPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFVyxRQUFBLFFBQVEsR0FBRyxVQUFDLEdBQVE7SUFDL0IsT0FBTyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEtBQUssTUFBTSxDQUFDO0FBQzdDLENBQUMsQ0FBQyJ9"],"sourceRoot":""}